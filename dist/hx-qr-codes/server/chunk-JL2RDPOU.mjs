import './polyfills.server.mjs';
import{a as di,b as fi,c as pi,d as gi,g as mi,m as yi}from"./chunk-AR6C2GFU.mjs";import{$ as Ot,$a as ni,Aa as Qe,Ab as xt,Ca as ce,Da as w,Db as ci,Ea as jn,Fa as zn,Ga as Yn,H as le,Ha as Ve,I as $e,Ia as Wn,Ib as hi,J as St,Ja as $n,Jb as nt,K as Me,La as ee,M as ue,Oa as Kn,P as Ft,Pa as Je,Qa as Bt,Ra as Qn,S as L,Sa as T,T as Ie,Ta as S,U as G,Ua as B,V as Un,Va as Jn,Wa as Te,Xa as Zn,Ya as Xn,Z as Ke,Za as ei,_ as Pt,_a as ti,aa as qn,ab as ii,bb as z,cb as Ze,da as Rt,db as Xe,e as xn,eb as et,fa as H,fb as tt,gb as Y,h as Nn,hb as ri,ka as Gn,lb as si,m as Ln,qb as oi,r as kn,tb as ai,yb as li,za as Hn,zb as ui}from"./chunk-ILYM5BAW.mjs";import{a as P,b as N,c as E,e as f,g as uo,h as Tt}from"./chunk-NDYDZJSS.mjs";var jt=f((qu,zi)=>{"use strict";zi.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var W=f(te=>{"use strict";var zt,Go=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];te.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};te.getSymbolTotalCodewords=function(e){return Go[e]};te.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};te.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');zt=e};te.isKanjiModeEnabled=function(){return typeof zt<"u"};te.toSJIS=function(e){return zt(e)}});var ft=f(O=>{"use strict";O.L={bit:1};O.M={bit:0};O.Q={bit:3};O.H={bit:2};function Ho(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return O.L;case"m":case"medium":return O.M;case"q":case"quartile":return O.Q;case"h":case"high":return O.H;default:throw new Error("Unknown EC Level: "+t)}}O.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};O.from=function(e,n){if(O.isValid(e))return e;try{return Ho(e)}catch{return n}}});var $i=f((ju,Wi)=>{"use strict";function Yi(){this.buffer=[],this.length=0}Yi.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};Wi.exports=Yi});var Qi=f((zu,Ki)=>{"use strict";function xe(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}xe.prototype.set=function(t,e,n,i){let r=t*this.size+e;this.data[r]=n,i&&(this.reservedBit[r]=!0)};xe.prototype.get=function(t,e){return this.data[t*this.size+e]};xe.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};xe.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};Ki.exports=xe});var Ji=f(pt=>{"use strict";var jo=W().getSymbolSize;pt.getRowColCoords=function(e){if(e===1)return[];let n=Math.floor(e/7)+2,i=jo(e),r=i===145?26:Math.ceil((i-13)/(2*n-2))*2,s=[i-7];for(let o=1;o<n-1;o++)s[o]=s[o-1]-r;return s.push(6),s.reverse()};pt.getPositions=function(e){let n=[],i=pt.getRowColCoords(e),r=i.length;for(let s=0;s<r;s++)for(let o=0;o<r;o++)s===0&&o===0||s===0&&o===r-1||s===r-1&&o===0||n.push([i[s],i[o]]);return n}});var er=f(Xi=>{"use strict";var zo=W().getSymbolSize,Zi=7;Xi.getPositions=function(e){let n=zo(e);return[[0,0],[n-Zi,0],[0,n-Zi]]}});var tr=f(v=>{"use strict";v.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var ne={N1:3,N2:3,N3:40,N4:10};v.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};v.from=function(e){return v.isValid(e)?parseInt(e,10):void 0};v.getPenaltyN1=function(e){let n=e.size,i=0,r=0,s=0,o=null,a=null;for(let l=0;l<n;l++){r=s=0,o=a=null;for(let u=0;u<n;u++){let c=e.get(l,u);c===o?r++:(r>=5&&(i+=ne.N1+(r-5)),o=c,r=1),c=e.get(u,l),c===a?s++:(s>=5&&(i+=ne.N1+(s-5)),a=c,s=1)}r>=5&&(i+=ne.N1+(r-5)),s>=5&&(i+=ne.N1+(s-5))}return i};v.getPenaltyN2=function(e){let n=e.size,i=0;for(let r=0;r<n-1;r++)for(let s=0;s<n-1;s++){let o=e.get(r,s)+e.get(r,s+1)+e.get(r+1,s)+e.get(r+1,s+1);(o===4||o===0)&&i++}return i*ne.N2};v.getPenaltyN3=function(e){let n=e.size,i=0,r=0,s=0;for(let o=0;o<n;o++){r=s=0;for(let a=0;a<n;a++)r=r<<1&2047|e.get(o,a),a>=10&&(r===1488||r===93)&&i++,s=s<<1&2047|e.get(a,o),a>=10&&(s===1488||s===93)&&i++}return i*ne.N3};v.getPenaltyN4=function(e){let n=0,i=e.data.length;for(let s=0;s<i;s++)n+=e.data[s];return Math.abs(Math.ceil(n*100/i/5)-10)*ne.N4};function Yo(t,e,n){switch(t){case v.Patterns.PATTERN000:return(e+n)%2===0;case v.Patterns.PATTERN001:return e%2===0;case v.Patterns.PATTERN010:return n%3===0;case v.Patterns.PATTERN011:return(e+n)%3===0;case v.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2===0;case v.Patterns.PATTERN101:return e*n%2+e*n%3===0;case v.Patterns.PATTERN110:return(e*n%2+e*n%3)%2===0;case v.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}v.applyMask=function(e,n){let i=n.size;for(let r=0;r<i;r++)for(let s=0;s<i;s++)n.isReserved(s,r)||n.xor(s,r,Yo(e,s,r))};v.getBestMask=function(e,n){let i=Object.keys(v.Patterns).length,r=0,s=1/0;for(let o=0;o<i;o++){n(o),v.applyMask(o,e);let a=v.getPenaltyN1(e)+v.getPenaltyN2(e)+v.getPenaltyN3(e)+v.getPenaltyN4(e);v.applyMask(o,e),a<s&&(s=a,r=o)}return r}});var Wt=f(Yt=>{"use strict";var $=ft(),gt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],mt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Yt.getBlocksCount=function(e,n){switch(n){case $.L:return gt[(e-1)*4+0];case $.M:return gt[(e-1)*4+1];case $.Q:return gt[(e-1)*4+2];case $.H:return gt[(e-1)*4+3];default:return}};Yt.getTotalCodewordsCount=function(e,n){switch(n){case $.L:return mt[(e-1)*4+0];case $.M:return mt[(e-1)*4+1];case $.Q:return mt[(e-1)*4+2];case $.H:return mt[(e-1)*4+3];default:return}}});var nr=f(_t=>{"use strict";var Ne=new Uint8Array(512),yt=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Ne[n]=e,yt[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Ne[n]=Ne[n-255]})();_t.log=function(e){if(e<1)throw new Error("log("+e+")");return yt[e]};_t.exp=function(e){return Ne[e]};_t.mul=function(e,n){return e===0||n===0?0:Ne[yt[e]+yt[n]]}});var ir=f(Le=>{"use strict";var $t=nr();Le.mul=function(e,n){let i=new Uint8Array(e.length+n.length-1);for(let r=0;r<e.length;r++)for(let s=0;s<n.length;s++)i[r+s]^=$t.mul(e[r],n[s]);return i};Le.mod=function(e,n){let i=new Uint8Array(e);for(;i.length-n.length>=0;){let r=i[0];for(let o=0;o<n.length;o++)i[o]^=$t.mul(n[o],r);let s=0;for(;s<i.length&&i[s]===0;)s++;i=i.slice(s)}return i};Le.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let i=0;i<e;i++)n=Le.mul(n,new Uint8Array([1,$t.exp(i)]));return n}});var or=f((Zu,sr)=>{"use strict";var rr=ir();function Kt(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Kt.prototype.initialize=function(e){this.degree=e,this.genPoly=rr.generateECPolynomial(this.degree)};Kt.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let n=new Uint8Array(e.length+this.degree);n.set(e);let i=rr.mod(n,this.genPoly),r=this.degree-i.length;if(r>0){let s=new Uint8Array(this.degree);return s.set(i,r),s}return i};sr.exports=Kt});var Qt=f(ar=>{"use strict";ar.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var Jt=f(j=>{"use strict";var lr="[0-9]+",Wo="[A-Z $%*+\\-./:]+",ke="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ke=ke.replace(/u/g,"\\u");var $o="(?:(?![A-Z0-9 $%*+\\-./:]|"+ke+`)(?:.|[\r
]))+`;j.KANJI=new RegExp(ke,"g");j.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");j.BYTE=new RegExp($o,"g");j.NUMERIC=new RegExp(lr,"g");j.ALPHANUMERIC=new RegExp(Wo,"g");var Ko=new RegExp("^"+ke+"$"),Qo=new RegExp("^"+lr+"$"),Jo=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");j.testKanji=function(e){return Ko.test(e)};j.testNumeric=function(e){return Qo.test(e)};j.testAlphanumeric=function(e){return Jo.test(e)}});var K=f(b=>{"use strict";var Zo=Qt(),Zt=Jt();b.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};b.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};b.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};b.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};b.MIXED={bit:-1};b.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Zo.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]};b.getBestModeForData=function(e){return Zt.testNumeric(e)?b.NUMERIC:Zt.testAlphanumeric(e)?b.ALPHANUMERIC:Zt.testKanji(e)?b.KANJI:b.BYTE};b.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};b.isValid=function(e){return e&&e.bit&&e.ccBits};function Xo(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return b.NUMERIC;case"alphanumeric":return b.ALPHANUMERIC;case"kanji":return b.KANJI;case"byte":return b.BYTE;default:throw new Error("Unknown mode: "+t)}}b.from=function(e,n){if(b.isValid(e))return e;try{return Xo(e)}catch{return n}}});var fr=f(ie=>{"use strict";var Ct=W(),ea=Wt(),ur=ft(),Q=K(),Xt=Qt(),hr=7973,cr=Ct.getBCHDigit(hr);function ta(t,e,n){for(let i=1;i<=40;i++)if(e<=ie.getCapacity(i,n,t))return i}function dr(t,e){return Q.getCharCountIndicator(t,e)+4}function na(t,e){let n=0;return t.forEach(function(i){let r=dr(i.mode,e);n+=r+i.getBitsLength()}),n}function ia(t,e){for(let n=1;n<=40;n++)if(na(t,n)<=ie.getCapacity(n,e,Q.MIXED))return n}ie.from=function(e,n){return Xt.isValid(e)?parseInt(e,10):n};ie.getCapacity=function(e,n,i){if(!Xt.isValid(e))throw new Error("Invalid QR Code version");typeof i>"u"&&(i=Q.BYTE);let r=Ct.getSymbolTotalCodewords(e),s=ea.getTotalCodewordsCount(e,n),o=(r-s)*8;if(i===Q.MIXED)return o;let a=o-dr(i,e);switch(i){case Q.NUMERIC:return Math.floor(a/10*3);case Q.ALPHANUMERIC:return Math.floor(a/11*2);case Q.KANJI:return Math.floor(a/13);case Q.BYTE:default:return Math.floor(a/8)}};ie.getBestVersionForData=function(e,n){let i,r=ur.from(n,ur.M);if(Array.isArray(e)){if(e.length>1)return ia(e,r);if(e.length===0)return 1;i=e[0]}else i=e;return ta(i.mode,i.getLength(),r)};ie.getEncodedBits=function(e){if(!Xt.isValid(e)||e<7)throw new Error("Invalid QR Code version");let n=e<<12;for(;Ct.getBCHDigit(n)-cr>=0;)n^=hr<<Ct.getBCHDigit(n)-cr;return e<<12|n}});var yr=f(mr=>{"use strict";var en=W(),gr=1335,ra=21522,pr=en.getBCHDigit(gr);mr.getEncodedBits=function(e,n){let i=e.bit<<3|n,r=i<<10;for(;en.getBCHDigit(r)-pr>=0;)r^=gr<<en.getBCHDigit(r)-pr;return(i<<10|r)^ra}});var Cr=f((rc,_r)=>{"use strict";var sa=K();function me(t){this.mode=sa.NUMERIC,this.data=t.toString()}me.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};me.prototype.getLength=function(){return this.data.length};me.prototype.getBitsLength=function(){return me.getBitsLength(this.data.length)};me.prototype.write=function(e){let n,i,r;for(n=0;n+3<=this.data.length;n+=3)i=this.data.substr(n,3),r=parseInt(i,10),e.put(r,10);let s=this.data.length-n;s>0&&(i=this.data.substr(n),r=parseInt(i,10),e.put(r,s*3+1))};_r.exports=me});var wr=f((sc,vr)=>{"use strict";var oa=K(),tn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ye(t){this.mode=oa.ALPHANUMERIC,this.data=t}ye.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ye.prototype.getLength=function(){return this.data.length};ye.prototype.getBitsLength=function(){return ye.getBitsLength(this.data.length)};ye.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let i=tn.indexOf(this.data[n])*45;i+=tn.indexOf(this.data[n+1]),e.put(i,11)}this.data.length%2&&e.put(tn.indexOf(this.data[n]),6)};vr.exports=ye});var Er=f((oc,br)=>{"use strict";br.exports=function(e){for(var n=[],i=e.length,r=0;r<i;r++){var s=e.charCodeAt(r);if(s>=55296&&s<=56319&&i>r+1){var o=e.charCodeAt(r+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,r+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer}});var Dr=f((ac,Ar)=>{"use strict";var aa=Er(),la=K();function _e(t){this.mode=la.BYTE,typeof t=="string"&&(t=aa(t)),this.data=new Uint8Array(t)}_e.getBitsLength=function(e){return e*8};_e.prototype.getLength=function(){return this.data.length};_e.prototype.getBitsLength=function(){return _e.getBitsLength(this.data.length)};_e.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};Ar.exports=_e});var Ir=f((lc,Mr)=>{"use strict";var ua=K(),ca=W();function Ce(t){this.mode=ua.KANJI,this.data=t}Ce.getBitsLength=function(e){return e*13};Ce.prototype.getLength=function(){return this.data.length};Ce.prototype.getBitsLength=function(){return Ce.getBitsLength(this.data.length)};Ce.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=ca.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};Mr.exports=Ce});var Vr=f((uc,nn)=>{"use strict";var Ue={single_source_shortest_paths:function(t,e,n){var i={},r={};r[e]=0;var s=Ue.PriorityQueue.make();s.push(e,0);for(var o,a,l,u,c,h,d,p,g;!s.empty();){o=s.pop(),a=o.value,u=o.cost,c=t[a]||{};for(l in c)c.hasOwnProperty(l)&&(h=c[l],d=u+h,p=r[l],g=typeof r[l]>"u",(g||p>d)&&(r[l]=d,s.push(l,d),i[l]=a))}if(typeof n<"u"&&typeof r[n]>"u"){var y=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(y)}return i},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],i=e,r;i;)n.push(i),r=t[i],i=t[i];return n.reverse(),n},find_path:function(t,e,n){var i=Ue.single_source_shortest_paths(t,e,n);return Ue.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(t){var e=Ue.PriorityQueue,n={},i;t=t||{};for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n.queue=[],n.sorter=t.sorter||e.default_sorter,n},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof nn<"u"&&(nn.exports=Ue)});var xr=f(ve=>{"use strict";var _=K(),Fr=Cr(),Pr=wr(),Or=Dr(),Rr=Ir(),qe=Jt(),vt=W(),ha=Vr();function Tr(t){return unescape(encodeURIComponent(t)).length}function Ge(t,e,n){let i=[],r;for(;(r=t.exec(n))!==null;)i.push({data:r[0],index:r.index,mode:e,length:r[0].length});return i}function Br(t){let e=Ge(qe.NUMERIC,_.NUMERIC,t),n=Ge(qe.ALPHANUMERIC,_.ALPHANUMERIC,t),i,r;return vt.isKanjiModeEnabled()?(i=Ge(qe.BYTE,_.BYTE,t),r=Ge(qe.KANJI,_.KANJI,t)):(i=Ge(qe.BYTE_KANJI,_.BYTE,t),r=[]),e.concat(n,i,r).sort(function(o,a){return o.index-a.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function rn(t,e){switch(e){case _.NUMERIC:return Fr.getBitsLength(t);case _.ALPHANUMERIC:return Pr.getBitsLength(t);case _.KANJI:return Rr.getBitsLength(t);case _.BYTE:return Or.getBitsLength(t)}}function da(t){return t.reduce(function(e,n){let i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===n.mode?(e[e.length-1].data+=n.data,e):(e.push(n),e)},[])}function fa(t){let e=[];for(let n=0;n<t.length;n++){let i=t[n];switch(i.mode){case _.NUMERIC:e.push([i,{data:i.data,mode:_.ALPHANUMERIC,length:i.length},{data:i.data,mode:_.BYTE,length:i.length}]);break;case _.ALPHANUMERIC:e.push([i,{data:i.data,mode:_.BYTE,length:i.length}]);break;case _.KANJI:e.push([i,{data:i.data,mode:_.BYTE,length:Tr(i.data)}]);break;case _.BYTE:e.push([{data:i.data,mode:_.BYTE,length:Tr(i.data)}])}}return e}function pa(t,e){let n={},i={start:{}},r=["start"];for(let s=0;s<t.length;s++){let o=t[s],a=[];for(let l=0;l<o.length;l++){let u=o[l],c=""+s+l;a.push(c),n[c]={node:u,lastCount:0},i[c]={};for(let h=0;h<r.length;h++){let d=r[h];n[d]&&n[d].node.mode===u.mode?(i[d][c]=rn(n[d].lastCount+u.length,u.mode)-rn(n[d].lastCount,u.mode),n[d].lastCount+=u.length):(n[d]&&(n[d].lastCount=u.length),i[d][c]=rn(u.length,u.mode)+4+_.getCharCountIndicator(u.mode,e))}}r=a}for(let s=0;s<r.length;s++)i[r[s]].end=0;return{map:i,table:n}}function Sr(t,e){let n,i=_.getBestModeForData(t);if(n=_.from(e,i),n!==_.BYTE&&n.bit<i.bit)throw new Error('"'+t+'" cannot be encoded with mode '+_.toString(n)+`.
 Suggested mode is: `+_.toString(i));switch(n===_.KANJI&&!vt.isKanjiModeEnabled()&&(n=_.BYTE),n){case _.NUMERIC:return new Fr(t);case _.ALPHANUMERIC:return new Pr(t);case _.KANJI:return new Rr(t);case _.BYTE:return new Or(t)}}ve.fromArray=function(e){return e.reduce(function(n,i){return typeof i=="string"?n.push(Sr(i,null)):i.data&&n.push(Sr(i.data,i.mode)),n},[])};ve.fromString=function(e,n){let i=Br(e,vt.isKanjiModeEnabled()),r=fa(i),s=pa(r,n),o=ha.find_path(s.map,"start","end"),a=[];for(let l=1;l<o.length-1;l++)a.push(s.table[o[l]].node);return ve.fromArray(da(a))};ve.rawSplit=function(e){return ve.fromArray(Br(e,vt.isKanjiModeEnabled()))}});var cn=f(Nr=>{"use strict";var bt=W(),sn=ft(),ga=$i(),ma=Qi(),ya=Ji(),_a=er(),ln=tr(),un=Wt(),Ca=or(),wt=fr(),va=yr(),wa=K(),on=xr();function ba(t,e){let n=t.size,i=_a.getPositions(e);for(let r=0;r<i.length;r++){let s=i[r][0],o=i[r][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function Ea(t){let e=t.size;for(let n=8;n<e-8;n++){let i=n%2===0;t.set(n,6,i,!0),t.set(6,n,i,!0)}}function Aa(t,e){let n=ya.getPositions(e);for(let i=0;i<n.length;i++){let r=n[i][0],s=n[i][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(r+o,s+a,!0,!0):t.set(r+o,s+a,!1,!0)}}function Da(t,e){let n=t.size,i=wt.getEncodedBits(e),r,s,o;for(let a=0;a<18;a++)r=Math.floor(a/3),s=a%3+n-8-3,o=(i>>a&1)===1,t.set(r,s,o,!0),t.set(s,r,o,!0)}function an(t,e,n){let i=t.size,r=va.getEncodedBits(e,n),s,o;for(s=0;s<15;s++)o=(r>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(i-15+s,8,o,!0),s<8?t.set(8,i-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(i-8,8,1,!0)}function Ma(t,e){let n=t.size,i=-1,r=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(r,a-l)){let u=!1;o<e.length&&(u=(e[o]>>>s&1)===1),t.set(r,a-l,u),s--,s===-1&&(o++,s=7)}if(r+=i,r<0||n<=r){r-=i,i=-i;break}}}function Ia(t,e,n){let i=new ga;n.forEach(function(l){i.put(l.mode.bit,4),i.put(l.getLength(),wa.getCharCountIndicator(l.mode,t)),l.write(i)});let r=bt.getSymbolTotalCodewords(t),s=un.getTotalCodewordsCount(t,e),o=(r-s)*8;for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);let a=(o-i.getLengthInBits())/8;for(let l=0;l<a;l++)i.put(l%2?17:236,8);return Va(i,t,e)}function Va(t,e,n){let i=bt.getSymbolTotalCodewords(e),r=un.getTotalCodewordsCount(e,n),s=i-r,o=un.getBlocksCount(e,n),a=i%o,l=o-a,u=Math.floor(i/o),c=Math.floor(s/o),h=c+1,d=u-c,p=new Ca(d),g=0,y=new Array(o),m=new Array(o),C=0,It=new Uint8Array(t.buffer);for(let ae=0;ae<o;ae++){let Vt=ae<l?c:h;y[ae]=It.slice(g,g+Vt),m[ae]=p.encode(y[ae]),g+=Vt,C=Math.max(C,Vt)}let De=new Uint8Array(i),I=0,F,q;for(F=0;F<C;F++)for(q=0;q<o;q++)F<y[q].length&&(De[I++]=y[q][F]);for(F=0;F<d;F++)for(q=0;q<o;q++)De[I++]=m[q][F];return De}function Ta(t,e,n,i){let r;if(Array.isArray(t))r=on.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){let c=on.rawSplit(t);u=wt.getBestVersionForData(c,n)}r=on.fromString(t,u||40)}else throw new Error("Invalid data");let s=wt.getBestVersionForData(r,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);let o=Ia(e,n,r),a=bt.getSymbolSize(e),l=new ma(a);return ba(l,e),Ea(l),Aa(l,e),an(l,n,0),e>=7&&Da(l,e),Ma(l,o),isNaN(i)&&(i=ln.getBestMask(l,an.bind(null,l,n))),ln.applyMask(i,l),an(l,n,i),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:i,segments:r}}Nr.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let i=sn.M,r,s;return typeof n<"u"&&(i=sn.from(n.errorCorrectionLevel,sn.M),r=wt.from(n.version),s=ln.from(n.maskPattern),n.toSJISFunc&&bt.setToSJISFunction(n.toSJISFunc)),Ta(e,r,i,s)}});var hn=f((dc,kr)=>{"use strict";var Sa=E("util"),Lr=E("stream"),x=kr.exports=function(){Lr.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};Sa.inherits(x,Lr);x.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e}),process.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))};x.prototype.write=function(t,e){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let n;return Buffer.isBuffer(t)?n=t:n=Buffer.from(t,e||this._encoding),this._buffers.push(n),this._buffered+=n.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused};x.prototype.end=function(t,e){t&&this.write(t,e),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))};x.prototype.destroySoon=x.prototype.end;x.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()};x.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))};x.prototype._processReadAllowingLess=function(t){this._reads.shift();let e=this._buffers[0];e.length>t.length?(this._buffered-=t.length,this._buffers[0]=e.slice(t.length),t.func.call(this,e.slice(0,t.length))):(this._buffered-=e.length,this._buffers.shift(),t.func.call(this,e))};x.prototype._processRead=function(t){this._reads.shift();let e=0,n=0,i=Buffer.alloc(t.length);for(;e<t.length;){let r=this._buffers[n++],s=Math.min(r.length,t.length-e);r.copy(i,e,0,s),e+=s,s!==r.length&&(this._buffers[--n]=r.slice(s))}n>0&&this._buffers.splice(0,n),this._buffered-=t.length,t.func.call(this,i)};x.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let t=this._reads[0];if(t.allowLess)this._processReadAllowingLess(t);else if(this._buffered>=t.length)this._processRead(t);else break}this._buffers&&!this.writable&&this._end()}catch(t){this.emit("error",t)}}});var fn=f(dn=>{"use strict";var J=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];dn.getImagePasses=function(t,e){let n=[],i=t%8,r=e%8,s=(t-i)/8,o=(e-r)/8;for(let a=0;a<J.length;a++){let l=J[a],u=s*l.x.length,c=o*l.y.length;for(let h=0;h<l.x.length&&l.x[h]<i;h++)u++;for(let h=0;h<l.y.length&&l.y[h]<r;h++)c++;u>0&&c>0&&n.push({width:u,height:c,index:a})}return n};dn.getInterlaceIterator=function(t){return function(e,n,i){let r=e%J[i].x.length,s=(e-r)/J[i].x.length*8+J[i].x[r],o=n%J[i].y.length,a=(n-o)/J[i].y.length*8+J[i].y[o];return s*4+a*t*4}}});var pn=f((pc,Ur)=>{"use strict";Ur.exports=function(e,n,i){let r=e+n-i,s=Math.abs(r-e),o=Math.abs(r-n),a=Math.abs(r-i);return s<=o&&s<=a?e:o<=a?n:i}});var gn=f((gc,Gr)=>{"use strict";var Fa=fn(),Pa=pn();function qr(t,e,n){let i=t*e;return n!==8&&(i=Math.ceil(i/(8/n))),i}var we=Gr.exports=function(t,e){let n=t.width,i=t.height,r=t.interlace,s=t.bpp,o=t.depth;if(this.read=e.read,this.write=e.write,this.complete=e.complete,this._imageIndex=0,this._images=[],r){let a=Fa.getImagePasses(n,i);for(let l=0;l<a.length;l++)this._images.push({byteWidth:qr(a[l].width,s,o),height:a[l].height,lineIndex:0})}else this._images.push({byteWidth:qr(n,s,o),height:i,lineIndex:0});o===8?this._xComparison=s:o===16?this._xComparison=s*2:this._xComparison=1};we.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))};we.prototype._unFilterType1=function(t,e,n){let i=this._xComparison,r=i-1;for(let s=0;s<n;s++){let o=t[1+s],a=s>r?e[s-i]:0;e[s]=o+a}};we.prototype._unFilterType2=function(t,e,n){let i=this._lastLine;for(let r=0;r<n;r++){let s=t[1+r],o=i?i[r]:0;e[r]=s+o}};we.prototype._unFilterType3=function(t,e,n){let i=this._xComparison,r=i-1,s=this._lastLine;for(let o=0;o<n;o++){let a=t[1+o],l=s?s[o]:0,u=o>r?e[o-i]:0,c=Math.floor((u+l)/2);e[o]=a+c}};we.prototype._unFilterType4=function(t,e,n){let i=this._xComparison,r=i-1,s=this._lastLine;for(let o=0;o<n;o++){let a=t[1+o],l=s?s[o]:0,u=o>r?e[o-i]:0,c=o>r&&s?s[o-i]:0,h=Pa(u,l,c);e[o]=a+h}};we.prototype._reverseFilterLine=function(t){let e=t[0],n,i=this._images[this._imageIndex],r=i.byteWidth;if(e===0)n=t.slice(1,r+1);else switch(n=Buffer.alloc(r),e){case 1:this._unFilterType1(t,n,r);break;case 2:this._unFilterType2(t,n,r);break;case 3:this._unFilterType3(t,n,r);break;case 4:this._unFilterType4(t,n,r);break;default:throw new Error("Unrecognised filter type - "+e)}this.write(n),i.lineIndex++,i.lineIndex>=i.height?(this._lastLine=null,this._imageIndex++,i=this._images[this._imageIndex]):this._lastLine=n,i?this.read(i.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}});var zr=f((mc,jr)=>{"use strict";var Oa=E("util"),Hr=hn(),Ra=gn(),Ba=jr.exports=function(t){Hr.call(this);let e=[],n=this;this._filter=new Ra(t,{read:this.read.bind(this),write:function(i){e.push(i)},complete:function(){n.emit("complete",Buffer.concat(e))}}),this._filter.start()};Oa.inherits(Ba,Hr)});var be=f((yc,Yr)=>{"use strict";Yr.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}});var _n=f((_c,Wr)=>{"use strict";var mn=[];(function(){for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;mn[t]=e}})();var yn=Wr.exports=function(){this._crc=-1};yn.prototype.write=function(t){for(let e=0;e<t.length;e++)this._crc=mn[(this._crc^t[e])&255]^this._crc>>>8;return!0};yn.prototype.crc32=function(){return this._crc^-1};yn.crc32=function(t){let e=-1;for(let n=0;n<t.length;n++)e=mn[(e^t[n])&255]^e>>>8;return e^-1}});var Cn=f((Cc,$r)=>{"use strict";var A=be(),xa=_n(),D=$r.exports=function(t,e){this._options=t,t.checkCRC=t.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[A.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[A.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[A.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[A.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[A.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[A.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.finished=e.finished,this.simpleTransparency=e.simpleTransparency,this.headersFinished=e.headersFinished||function(){}};D.prototype.start=function(){this.read(A.PNG_SIGNATURE.length,this._parseSignature.bind(this))};D.prototype._parseSignature=function(t){let e=A.PNG_SIGNATURE;for(let n=0;n<e.length;n++)if(t[n]!==e[n]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))};D.prototype._parseChunkBegin=function(t){let e=t.readUInt32BE(0),n=t.readUInt32BE(4),i="";for(let s=4;s<8;s++)i+=String.fromCharCode(t[s]);let r=!!(t[4]&32);if(!this._hasIHDR&&n!==A.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new xa,this._crc.write(Buffer.from(i)),this._chunks[n])return this._chunks[n](e);if(!r){this.error(new Error("Unsupported critical chunk type "+i));return}this.read(e+4,this._skipChunk.bind(this))};D.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))};D.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))};D.prototype._parseChunkEnd=function(t){let e=t.readInt32BE(0),n=this._crc.crc32();if(this._options.checkCRC&&n!==e){this.error(new Error("Crc error - "+e+" - "+n));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))};D.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))};D.prototype._parseIHDR=function(t){this._crc.write(t);let e=t.readUInt32BE(0),n=t.readUInt32BE(4),i=t[8],r=t[9],s=t[10],o=t[11],a=t[12];if(i!==8&&i!==4&&i!==2&&i!==1&&i!==16){this.error(new Error("Unsupported bit depth "+i));return}if(!(r in A.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(s!==0){this.error(new Error("Unsupported compression method"));return}if(o!==0){this.error(new Error("Unsupported filter method"));return}if(a!==0&&a!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=r;let l=A.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:n,depth:i,interlace:!!a,palette:!!(r&A.COLORTYPE_PALETTE),color:!!(r&A.COLORTYPE_COLOR),alpha:!!(r&A.COLORTYPE_ALPHA),bpp:l,colorType:r}),this._handleChunkEnd()};D.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))};D.prototype._parsePLTE=function(t){this._crc.write(t);let e=Math.floor(t.length/3);for(let n=0;n<e;n++)this._palette.push([t[n*3],t[n*3+1],t[n*3+2],255]);this.palette(this._palette),this._handleChunkEnd()};D.prototype._handleTRNS=function(t){this.simpleTransparency(),this.read(t,this._parseTRNS.bind(this))};D.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===A.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(t.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(let e=0;e<t.length;e++)this._palette[e][3]=t[e];this.palette(this._palette)}this._colorType===A.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===A.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()};D.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))};D.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/A.GAMMA_DIVISION),this._handleChunkEnd()};D.prototype._handleIDAT=function(t){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-t,this._parseIDAT.bind(this,t))};D.prototype._parseIDAT=function(t,e){if(this._crc.write(e),this._colorType===A.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(e);let n=t-e.length;n>0?this._handleIDAT(n):this._handleChunkEnd()};D.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))};D.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}});var vn=f(Qr=>{"use strict";var Kr=fn(),Na=[function(){},function(t,e,n,i){if(i===e.length)throw new Error("Ran out of data");let r=e[i];t[n]=r,t[n+1]=r,t[n+2]=r,t[n+3]=255},function(t,e,n,i){if(i+1>=e.length)throw new Error("Ran out of data");let r=e[i];t[n]=r,t[n+1]=r,t[n+2]=r,t[n+3]=e[i+1]},function(t,e,n,i){if(i+2>=e.length)throw new Error("Ran out of data");t[n]=e[i],t[n+1]=e[i+1],t[n+2]=e[i+2],t[n+3]=255},function(t,e,n,i){if(i+3>=e.length)throw new Error("Ran out of data");t[n]=e[i],t[n+1]=e[i+1],t[n+2]=e[i+2],t[n+3]=e[i+3]}],La=[function(){},function(t,e,n,i){let r=e[0];t[n]=r,t[n+1]=r,t[n+2]=r,t[n+3]=i},function(t,e,n){let i=e[0];t[n]=i,t[n+1]=i,t[n+2]=i,t[n+3]=e[1]},function(t,e,n,i){t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=i},function(t,e,n){t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=e[3]}];function ka(t,e){let n=[],i=0;function r(){if(i===t.length)throw new Error("Ran out of data");let s=t[i];i++;let o,a,l,u,c,h,d,p;switch(e){default:throw new Error("unrecognised depth");case 16:d=t[i],i++,n.push((s<<8)+d);break;case 4:d=s&15,p=s>>4,n.push(p,d);break;case 2:c=s&3,h=s>>2&3,d=s>>4&3,p=s>>6&3,n.push(p,d,h,c);break;case 1:o=s&1,a=s>>1&1,l=s>>2&1,u=s>>3&1,c=s>>4&1,h=s>>5&1,d=s>>6&1,p=s>>7&1,n.push(p,d,h,c,u,l,a,o);break}}return{get:function(s){for(;n.length<s;)r();let o=n.slice(0,s);return n=n.slice(s),o},resetAfterLine:function(){n.length=0},end:function(){if(i!==t.length)throw new Error("extra data found")}}}function Ua(t,e,n,i,r,s){let o=t.width,a=t.height,l=t.index;for(let u=0;u<a;u++)for(let c=0;c<o;c++){let h=n(c,u,l);Na[i](e,r,h,s),s+=i}return s}function qa(t,e,n,i,r,s){let o=t.width,a=t.height,l=t.index;for(let u=0;u<a;u++){for(let c=0;c<o;c++){let h=r.get(i),d=n(c,u,l);La[i](e,h,d,s)}r.resetAfterLine()}}Qr.dataToBitMap=function(t,e){let n=e.width,i=e.height,r=e.depth,s=e.bpp,o=e.interlace,a;r!==8&&(a=ka(t,r));let l;r<=8?l=Buffer.alloc(n*i*4):l=new Uint16Array(n*i*4);let u=Math.pow(2,r)-1,c=0,h,d;if(o)h=Kr.getImagePasses(n,i),d=Kr.getInterlaceIterator(n,i);else{let p=0;d=function(){let g=p;return p+=4,g},h=[{width:n,height:i}]}for(let p=0;p<h.length;p++)r===8?c=Ua(h[p],l,d,s,t,c):qa(h[p],l,d,s,a,u);if(r===8){if(c!==t.length)throw new Error("extra data found")}else a.end();return l}});var wn=f((wc,Jr)=>{"use strict";function Ga(t,e,n,i,r){let s=0;for(let o=0;o<i;o++)for(let a=0;a<n;a++){let l=r[t[s]];if(!l)throw new Error("index "+t[s]+" not in palette");for(let u=0;u<4;u++)e[s+u]=l[u];s+=4}}function Ha(t,e,n,i,r){let s=0;for(let o=0;o<i;o++)for(let a=0;a<n;a++){let l=!1;if(r.length===1?r[0]===t[s]&&(l=!0):r[0]===t[s]&&r[1]===t[s+1]&&r[2]===t[s+2]&&(l=!0),l)for(let u=0;u<4;u++)e[s+u]=0;s+=4}}function ja(t,e,n,i,r){let s=255,o=Math.pow(2,r)-1,a=0;for(let l=0;l<i;l++)for(let u=0;u<n;u++){for(let c=0;c<4;c++)e[a+c]=Math.floor(t[a+c]*s/o+.5);a+=4}}Jr.exports=function(t,e){let n=e.depth,i=e.width,r=e.height,s=e.colorType,o=e.transColor,a=e.palette,l=t;return s===3?Ga(t,l,i,r,a):(o&&Ha(t,l,i,r,o),n!==8&&(n===16&&(l=Buffer.alloc(i*r*4)),ja(t,l,i,r,n))),l}});var es=f((bc,Xr)=>{"use strict";var za=E("util"),bn=E("zlib"),Zr=hn(),Ya=zr(),Wa=Cn(),$a=vn(),Ka=wn(),k=Xr.exports=function(t){Zr.call(this),this._parser=new Wa(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};za.inherits(k,Zr);k.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0};k.prototype._inflateData=function(t){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=bn.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let n=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,i=Math.max(n,bn.Z_MIN_CHUNK);this._inflate=bn.createInflate({chunkSize:i});let r=n,s=this.emit.bind(this,"error");this._inflate.on("error",function(a){r&&s(a)}),this._filter.on("complete",this._complete.bind(this));let o=this._filter.write.bind(this._filter);this._inflate.on("data",function(a){r&&(a.length>r&&(a=a.slice(0,r)),r-=a.length,o(a))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(t)};k.prototype._handleMetaData=function(t){this._metaData=t,this._bitmapInfo=Object.create(t),this._filter=new Ya(this._bitmapInfo)};k.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t};k.prototype._handlePalette=function(t){this._bitmapInfo.palette=t};k.prototype._simpleTransparency=function(){this._metaData.alpha=!0};k.prototype._headersFinished=function(){this.emit("metadata",this._metaData)};k.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))};k.prototype._complete=function(t){if(this.errord)return;let e;try{let n=$a.dataToBitMap(t,this._bitmapInfo);e=Ka(n,this._bitmapInfo),n=null}catch(n){this._handleError(n);return}this.emit("parsed",e)}});var ns=f((Ec,ts)=>{"use strict";var R=be();ts.exports=function(t,e,n,i){let r=[R.COLORTYPE_COLOR_ALPHA,R.COLORTYPE_ALPHA].indexOf(i.colorType)!==-1;if(i.colorType===i.inputColorType){let g=function(){let y=new ArrayBuffer(2);return new DataView(y).setInt16(0,256,!0),new Int16Array(y)[0]!==256}();if(i.bitDepth===8||i.bitDepth===16&&g)return t}let s=i.bitDepth!==16?t:new Uint16Array(t.buffer),o=255,a=R.COLORTYPE_TO_BPP_MAP[i.inputColorType];a===4&&!i.inputHasAlpha&&(a=3);let l=R.COLORTYPE_TO_BPP_MAP[i.colorType];i.bitDepth===16&&(o=65535,l*=2);let u=Buffer.alloc(e*n*l),c=0,h=0,d=i.bgColor||{};d.red===void 0&&(d.red=o),d.green===void 0&&(d.green=o),d.blue===void 0&&(d.blue=o);function p(){let g,y,m,C=o;switch(i.inputColorType){case R.COLORTYPE_COLOR_ALPHA:C=s[c+3],g=s[c],y=s[c+1],m=s[c+2];break;case R.COLORTYPE_COLOR:g=s[c],y=s[c+1],m=s[c+2];break;case R.COLORTYPE_ALPHA:C=s[c+1],g=s[c],y=g,m=g;break;case R.COLORTYPE_GRAYSCALE:g=s[c],y=g,m=g;break;default:throw new Error("input color type:"+i.inputColorType+" is not supported at present")}return i.inputHasAlpha&&(r||(C/=o,g=Math.min(Math.max(Math.round((1-C)*d.red+C*g),0),o),y=Math.min(Math.max(Math.round((1-C)*d.green+C*y),0),o),m=Math.min(Math.max(Math.round((1-C)*d.blue+C*m),0),o))),{red:g,green:y,blue:m,alpha:C}}for(let g=0;g<n;g++)for(let y=0;y<e;y++){let m=p(s,c);switch(i.colorType){case R.COLORTYPE_COLOR_ALPHA:case R.COLORTYPE_COLOR:i.bitDepth===8?(u[h]=m.red,u[h+1]=m.green,u[h+2]=m.blue,r&&(u[h+3]=m.alpha)):(u.writeUInt16BE(m.red,h),u.writeUInt16BE(m.green,h+2),u.writeUInt16BE(m.blue,h+4),r&&u.writeUInt16BE(m.alpha,h+6));break;case R.COLORTYPE_ALPHA:case R.COLORTYPE_GRAYSCALE:{let C=(m.red+m.green+m.blue)/3;i.bitDepth===8?(u[h]=C,r&&(u[h+1]=m.alpha)):(u.writeUInt16BE(C,h),r&&u.writeUInt16BE(m.alpha,h+2));break}default:throw new Error("unrecognised color Type "+i.colorType)}c+=a,h+=l}return u}});var ss=f((Ac,rs)=>{"use strict";var is=pn();function Qa(t,e,n,i,r){for(let s=0;s<n;s++)i[r+s]=t[e+s]}function Ja(t,e,n){let i=0,r=e+n;for(let s=e;s<r;s++)i+=Math.abs(t[s]);return i}function Za(t,e,n,i,r,s){for(let o=0;o<n;o++){let a=o>=s?t[e+o-s]:0,l=t[e+o]-a;i[r+o]=l}}function Xa(t,e,n,i){let r=0;for(let s=0;s<n;s++){let o=s>=i?t[e+s-i]:0,a=t[e+s]-o;r+=Math.abs(a)}return r}function el(t,e,n,i,r){for(let s=0;s<n;s++){let o=e>0?t[e+s-n]:0,a=t[e+s]-o;i[r+s]=a}}function tl(t,e,n){let i=0,r=e+n;for(let s=e;s<r;s++){let o=e>0?t[s-n]:0,a=t[s]-o;i+=Math.abs(a)}return i}function nl(t,e,n,i,r,s){for(let o=0;o<n;o++){let a=o>=s?t[e+o-s]:0,l=e>0?t[e+o-n]:0,u=t[e+o]-(a+l>>1);i[r+o]=u}}function il(t,e,n,i){let r=0;for(let s=0;s<n;s++){let o=s>=i?t[e+s-i]:0,a=e>0?t[e+s-n]:0,l=t[e+s]-(o+a>>1);r+=Math.abs(l)}return r}function rl(t,e,n,i,r,s){for(let o=0;o<n;o++){let a=o>=s?t[e+o-s]:0,l=e>0?t[e+o-n]:0,u=e>0&&o>=s?t[e+o-(n+s)]:0,c=t[e+o]-is(a,l,u);i[r+o]=c}}function sl(t,e,n,i){let r=0;for(let s=0;s<n;s++){let o=s>=i?t[e+s-i]:0,a=e>0?t[e+s-n]:0,l=e>0&&s>=i?t[e+s-(n+i)]:0,u=t[e+s]-is(o,a,l);r+=Math.abs(u)}return r}var ol={0:Qa,1:Za,2:el,3:nl,4:rl},al={0:Ja,1:Xa,2:tl,3:il,4:sl};rs.exports=function(t,e,n,i,r){let s;if(!("filterType"in i)||i.filterType===-1)s=[0,1,2,3,4];else if(typeof i.filterType=="number")s=[i.filterType];else throw new Error("unrecognised filter types");i.bitDepth===16&&(r*=2);let o=e*r,a=0,l=0,u=Buffer.alloc((o+1)*n),c=s[0];for(let h=0;h<n;h++){if(s.length>1){let d=1/0;for(let p=0;p<s.length;p++){let g=al[s[p]](t,l,o,r);g<d&&(c=s[p],d=g)}}u[a]=c,a++,ol[c](t,l,o,u,a,r),a+=o,l+=o}return u}});var En=f((Dc,os)=>{"use strict";var M=be(),ll=_n(),ul=ns(),cl=ss(),hl=E("zlib"),Z=os.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32*1024,t.deflateLevel=t.deflateLevel!=null?t.deflateLevel:9,t.deflateStrategy=t.deflateStrategy!=null?t.deflateStrategy:3,t.inputHasAlpha=t.inputHasAlpha!=null?t.inputHasAlpha:!0,t.deflateFactory=t.deflateFactory||hl.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType=typeof t.colorType=="number"?t.colorType:M.COLORTYPE_COLOR_ALPHA,t.inputColorType=typeof t.inputColorType=="number"?t.inputColorType:M.COLORTYPE_COLOR_ALPHA,[M.COLORTYPE_GRAYSCALE,M.COLORTYPE_COLOR,M.COLORTYPE_COLOR_ALPHA,M.COLORTYPE_ALPHA].indexOf(t.colorType)===-1)throw new Error("option color type:"+t.colorType+" is not supported at present");if([M.COLORTYPE_GRAYSCALE,M.COLORTYPE_COLOR,M.COLORTYPE_COLOR_ALPHA,M.COLORTYPE_ALPHA].indexOf(t.inputColorType)===-1)throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(t.bitDepth!==8&&t.bitDepth!==16)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};Z.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}};Z.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())};Z.prototype.filterData=function(t,e,n){let i=ul(t,e,n,this._options),r=M.COLORTYPE_TO_BPP_MAP[this._options.colorType];return cl(i,e,n,this._options,r)};Z.prototype._packChunk=function(t,e){let n=e?e.length:0,i=Buffer.alloc(n+12);return i.writeUInt32BE(n,0),i.writeUInt32BE(t,4),e&&e.copy(i,8),i.writeInt32BE(ll.crc32(i.slice(4,i.length-4)),i.length-4),i};Z.prototype.packGAMA=function(t){let e=Buffer.alloc(4);return e.writeUInt32BE(Math.floor(t*M.GAMMA_DIVISION),0),this._packChunk(M.TYPE_gAMA,e)};Z.prototype.packIHDR=function(t,e){let n=Buffer.alloc(13);return n.writeUInt32BE(t,0),n.writeUInt32BE(e,4),n[8]=this._options.bitDepth,n[9]=this._options.colorType,n[10]=0,n[11]=0,n[12]=0,this._packChunk(M.TYPE_IHDR,n)};Z.prototype.packIDAT=function(t){return this._packChunk(M.TYPE_IDAT,t)};Z.prototype.packIEND=function(){return this._packChunk(M.TYPE_IEND,null)}});var cs=f((Mc,us)=>{"use strict";var dl=E("util"),as=E("stream"),fl=be(),pl=En(),ls=us.exports=function(t){as.call(this);let e=t||{};this._packer=new pl(e),this._deflate=this._packer.createDeflate(),this.readable=!0};dl.inherits(ls,as);ls.prototype.pack=function(t,e,n,i){this.emit("data",Buffer.from(fl.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(e,n)),i&&this.emit("data",this._packer.packGAMA(i));let r=this._packer.filterData(t,e,n);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(s){this.emit("data",this._packer.packIDAT(s))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(r)}});var ms=f((He,gs)=>{"use strict";var hs=E("assert").ok,Ee=E("zlib"),gl=E("util"),ds=E("buffer").kMaxLength;function re(t){if(!(this instanceof re))return new re(t);t&&t.chunkSize<Ee.Z_MIN_CHUNK&&(t.chunkSize=Ee.Z_MIN_CHUNK),Ee.Inflate.call(this,t),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,t&&t.maxLength!=null&&(this._maxLength=t.maxLength)}function ml(t){return new re(t)}function fs(t,e){e&&process.nextTick(e),t._handle&&(t._handle.close(),t._handle=null)}re.prototype._processChunk=function(t,e,n){if(typeof n=="function")return Ee.Inflate._processChunk.call(this,t,e,n);let i=this,r=t&&t.length,s=this._chunkSize-this._offset,o=this._maxLength,a=0,l=[],u=0,c;this.on("error",function(g){c=g});function h(g,y){if(i._hadError)return;let m=s-y;if(hs(m>=0,"have should not go down"),m>0){let C=i._buffer.slice(i._offset,i._offset+m);if(i._offset+=m,C.length>o&&(C=C.slice(0,o)),l.push(C),u+=C.length,o-=C.length,o===0)return!1}return(y===0||i._offset>=i._chunkSize)&&(s=i._chunkSize,i._offset=0,i._buffer=Buffer.allocUnsafe(i._chunkSize)),y===0?(a+=r-g,r=g,!0):!1}hs(this._handle,"zlib binding closed");let d;do d=this._handle.writeSync(e,t,a,r,this._buffer,this._offset,s),d=d||this._writeState;while(!this._hadError&&h(d[0],d[1]));if(this._hadError)throw c;if(u>=ds)throw fs(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+ds.toString(16)+" bytes");let p=Buffer.concat(l,u);return fs(this),p};gl.inherits(re,Ee.Inflate);function yl(t,e){if(typeof e=="string"&&(e=Buffer.from(e)),!(e instanceof Buffer))throw new TypeError("Not a string or buffer");let n=t._finishFlushFlag;return n==null&&(n=Ee.Z_FINISH),t._processChunk(e,n)}function ps(t,e){return yl(new re(e),t)}gs.exports=He=ps;He.Inflate=re;He.createInflate=ml;He.inflateSync=ps});var An=f((Ic,_s)=>{"use strict";var ys=_s.exports=function(t){this._buffer=t,this._reads=[]};ys.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e})};ys.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let t=this._reads[0];if(this._buffer.length&&(this._buffer.length>=t.length||t.allowLess)){this._reads.shift();let e=this._buffer;this._buffer=e.slice(t.length),t.func.call(this,e.slice(0,t.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}});var vs=f(Cs=>{"use strict";var _l=An(),Cl=gn();Cs.process=function(t,e){let n=[],i=new _l(t);return new Cl(e,{read:i.read.bind(i),write:function(s){n.push(s)},complete:function(){}}).start(),i.process(),Buffer.concat(n)}});var As=f((Tc,Es)=>{"use strict";var ws=!0,bs=E("zlib"),vl=ms();bs.deflateSync||(ws=!1);var wl=An(),bl=vs(),El=Cn(),Al=vn(),Dl=wn();Es.exports=function(t,e){if(!ws)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let n;function i(I){n=I}let r;function s(I){r=I}function o(I){r.transColor=I}function a(I){r.palette=I}function l(){r.alpha=!0}let u;function c(I){u=I}let h=[];function d(I){h.push(I)}let p=new wl(t);if(new El(e,{read:p.read.bind(p),error:i,metadata:s,gamma:c,palette:a,transColor:o,inflateData:d,simpleTransparency:l}).start(),p.process(),n)throw n;let y=Buffer.concat(h);h.length=0;let m;if(r.interlace)m=bs.inflateSync(y);else{let F=((r.width*r.bpp*r.depth+7>>3)+1)*r.height;m=vl(y,{chunkSize:F,maxLength:F})}if(y=null,!m||!m.length)throw new Error("bad png - invalid inflate data response");let C=bl.process(m,r);y=null;let It=Al.dataToBitMap(C,r);C=null;let De=Dl(It,r);return r.data=De,r.gamma=u||0,r}});var Vs=f((Sc,Is)=>{"use strict";var Ds=!0,Ms=E("zlib");Ms.deflateSync||(Ds=!1);var Ml=be(),Il=En();Is.exports=function(t,e){if(!Ds)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let n=e||{},i=new Il(n),r=[];r.push(Buffer.from(Ml.PNG_SIGNATURE)),r.push(i.packIHDR(t.width,t.height)),t.gamma&&r.push(i.packGAMA(t.gamma));let s=i.filterData(t.data,t.width,t.height),o=Ms.deflateSync(s,i.getDeflateOptions());if(s=null,!o||!o.length)throw new Error("bad png - invalid compressed data response");return r.push(i.packIDAT(o)),r.push(i.packIEND()),Buffer.concat(r)}});var Ts=f(Dn=>{"use strict";var Vl=As(),Tl=Vs();Dn.read=function(t,e){return Vl(t,e||{})};Dn.write=function(t,e){return Tl(t,e)}});var Ps=f(Fs=>{"use strict";var Sl=E("util"),Ss=E("stream"),Fl=es(),Pl=cs(),Ol=Ts(),V=Fs.PNG=function(t){Ss.call(this),t=t||{},this.width=t.width|0,this.height=t.height|0,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new Fl(t),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(e){this.data=e,this.emit("parsed",e)}).bind(this)),this._packer=new Pl(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};Sl.inherits(V,Ss);V.sync=Ol;V.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(process.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this)};V.prototype.parse=function(t,e){if(e){let n,i;n=(function(r){this.removeListener("error",i),this.data=r,e(null,this)}).bind(this),i=(function(r){this.removeListener("parsed",n),e(r,null)}).bind(this),this.once("parsed",n),this.once("error",i)}return this.end(t),this};V.prototype.write=function(t){return this._parser.write(t),!0};V.prototype.end=function(t){this._parser.end(t)};V.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)};V.prototype._gamma=function(t){this.gamma=t};V.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")};V.bitblt=function(t,e,n,i,r,s,o,a){if(n|=0,i|=0,r|=0,s|=0,o|=0,a|=0,n>t.width||i>t.height||n+r>t.width||i+s>t.height)throw new Error("bitblt reading outside image");if(o>e.width||a>e.height||o+r>e.width||a+s>e.height)throw new Error("bitblt writing outside image");for(let l=0;l<s;l++)t.data.copy(e.data,(a+l)*e.width+o<<2,(i+l)*t.width+n<<2,(i+l)*t.width+n+r<<2)};V.prototype.bitblt=function(t,e,n,i,r,s,o){return V.bitblt(this,t,e,n,i,r,s,o),this};V.adjustGamma=function(t){if(t.gamma){for(let e=0;e<t.height;e++)for(let n=0;n<t.width;n++){let i=t.width*e+n<<2;for(let r=0;r<3;r++){let s=t.data[i+r]/255;s=Math.pow(s,1/2.2/t.gamma),t.data[i+r]=Math.round(s*255)}}t.gamma=0}};V.prototype.adjustGamma=function(){V.adjustGamma(this)}});var je=f(se=>{"use strict";function Os(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");let n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+e.slice(0,6).join("")}}se.getOptions=function(e){e||(e={}),e.color||(e.color={});let n=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:i,scale:i?4:r,margin:n,color:{dark:Os(e.color.dark||"#000000ff"),light:Os(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};se.getScale=function(e,n){return n.width&&n.width>=e+n.margin*2?n.width/(e+n.margin*2):n.scale};se.getImageWidth=function(e,n){let i=se.getScale(e,n);return Math.floor((e+n.margin*2)*i)};se.qrToImageData=function(e,n,i){let r=n.modules.size,s=n.modules.data,o=se.getScale(r,i),a=Math.floor((r+i.margin*2)*o),l=i.margin*o,u=[i.color.light,i.color.dark];for(let c=0;c<a;c++)for(let h=0;h<a;h++){let d=(c*a+h)*4,p=i.color.light;if(c>=l&&h>=l&&c<a-l&&h<a-l){let g=Math.floor((c-l)/o),y=Math.floor((h-l)/o);p=u[s[g*r+y]?1:0]}e[d++]=p.r,e[d++]=p.g,e[d++]=p.b,e[d]=p.a}}});var Rs=f(U=>{"use strict";var Rl=E("fs"),Bl=Ps().PNG,Mn=je();U.render=function(e,n){let i=Mn.getOptions(n),r=i.rendererOpts,s=Mn.getImageWidth(e.modules.size,i);r.width=s,r.height=s;let o=new Bl(r);return Mn.qrToImageData(o.data,e,i),o};U.renderToDataURL=function(e,n,i){typeof i>"u"&&(i=n,n=void 0),U.renderToBuffer(e,n,function(r,s){r&&i(r);let o="data:image/png;base64,";o+=s.toString("base64"),i(null,o)})};U.renderToBuffer=function(e,n,i){typeof i>"u"&&(i=n,n=void 0);let r=U.render(e,n),s=[];r.on("error",i),r.on("data",function(o){s.push(o)}),r.on("end",function(){i(null,Buffer.concat(s))}),r.pack()};U.renderToFile=function(e,n,i,r){typeof r>"u"&&(r=i,i=void 0);let s=!1,o=(...l)=>{s||(s=!0,r.apply(null,l))},a=Rl.createWriteStream(e);a.on("error",o),a.on("close",o),U.renderToFileStream(a,n,i)};U.renderToFileStream=function(e,n,i){U.render(n,i).pack().pipe(e)}});var Bs=f(Et=>{"use strict";var xl=je(),Nl={WW:" ",WB:"\u2584",BB:"\u2588",BW:"\u2580"},Ll={BB:" ",BW:"\u2584",WW:"\u2588",WB:"\u2580"};function kl(t,e,n){return t&&e?n.BB:t&&!e?n.BW:!t&&e?n.WB:n.WW}Et.render=function(t,e,n){let i=xl.getOptions(e),r=Nl;(i.color.dark.hex==="#ffffff"||i.color.light.hex==="#000000")&&(r=Ll);let s=t.modules.size,o=t.modules.data,a="",l=Array(s+i.margin*2+1).join(r.WW);l=Array(i.margin/2+1).join(l+`
`);let u=Array(i.margin+1).join(r.WW);a+=l;for(let c=0;c<s;c+=2){a+=u;for(let h=0;h<s;h++){let d=o[c*s+h],p=o[(c+1)*s+h];a+=kl(d,p,r)}a+=u+`
`}return a+=l.slice(0,-1),typeof n=="function"&&n(null,a),a};Et.renderToFile=function(e,n,i,r){typeof r>"u"&&(r=i,i=void 0);let s=E("fs"),o=Et.render(n,i);s.writeFile(e,o,r)}});var Ns=f(xs=>{"use strict";xs.render=function(t,e,n){let i=t.modules.size,r=t.modules.data,s="\x1B[40m  \x1B[0m",o="\x1B[47m  \x1B[0m",a="",l=Array(i+3).join(o),u=Array(2).join(o);a+=l+`
`;for(let c=0;c<i;++c){a+=o;for(let h=0;h<i;h++)a+=r[c*i+h]?s:o;a+=u+`
`}return a+=l+`
`,typeof n=="function"&&n(null,a),a}});var qs=f(Us=>{"use strict";var Ul="\x1B[47m",ql="\x1B[40m",In="\x1B[37m",Vn="\x1B[30m",oe="\x1B[0m",Gl=Ul+Vn,Hl=ql+In,jl=function(t,e,n){return{"00":oe+" "+t,"01":oe+e+"\u2584"+t,"02":oe+n+"\u2584"+t,10:oe+e+"\u2580"+t,11:" ",12:"\u2584",20:oe+n+"\u2580"+t,21:"\u2580",22:"\u2588"}},Ls=function(t,e,n,i){let r=e+1;if(n>=r||i>=r||i<-1||n<-1)return"0";if(n>=e||i>=e||i<0||n<0)return"1";let s=i*e+n;return t[s]?"2":"1"},ks=function(t,e,n,i){return Ls(t,e,n,i)+Ls(t,e,n,i+1)};Us.render=function(t,e,n){let i=t.modules.size,r=t.modules.data,s=!!(e&&e.inverse),o=e&&e.inverse?Hl:Gl,u=jl(o,s?Vn:In,s?In:Vn),c=oe+`
`+o,h=o;for(let d=-1;d<i+1;d+=2){for(let p=-1;p<i;p++)h+=u[ks(r,i,p,d)];h+=u[ks(r,i,i,d)]+c}return h+=oe,typeof n=="function"&&n(null,h),h}});var Hs=f(Gs=>{"use strict";var zl=Ns(),Yl=qs();Gs.render=function(t,e,n){return e&&e.small?Yl.render(t,e,n):zl.render(t,e,n)}});var Sn=f(zs=>{"use strict";var Wl=je();function js(t,e){let n=t.a/255,i=e+'="'+t.hex+'"';return n<1?i+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function Tn(t,e,n){let i=t+e;return typeof n<"u"&&(i+=" "+n),i}function $l(t,e,n){let i="",r=0,s=!1,o=0;for(let a=0;a<t.length;a++){let l=Math.floor(a%e),u=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(i+=s?Tn("M",l+n,.5+u+n):Tn("m",r,0),r=0,s=!1),l+1<e&&t[a+1]||(i+=Tn("h",o),o=0)):r++}return i}zs.render=function(e,n,i){let r=Wl.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+r.margin*2,l=r.color.light.a?"<path "+js(r.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+js(r.color.dark,"stroke")+' d="'+$l(o,s,r.margin)+'"/>',c='viewBox="0 0 '+a+" "+a+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+c+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof i=="function"&&i(null,d),d}});var Ys=f(At=>{"use strict";var Kl=Sn();At.render=Kl.render;At.renderToFile=function(e,n,i,r){typeof r>"u"&&(r=i,i=void 0);let s=E("fs"),a='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+At.render(n,i);s.writeFile(e,a,r)}});var Ws=f(Dt=>{"use strict";var Fn=je();function Ql(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}function Jl(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Dt.render=function(e,n,i){let r=i,s=n;typeof r>"u"&&(!n||!n.getContext)&&(r=n,n=void 0),n||(s=Jl()),r=Fn.getOptions(r);let o=Fn.getImageWidth(e.modules.size,r),a=s.getContext("2d"),l=a.createImageData(o,o);return Fn.qrToImageData(l.data,e,r),Ql(a,s,o),a.putImageData(l,0,0),s};Dt.renderToDataURL=function(e,n,i){let r=i;typeof r>"u"&&(!n||!n.getContext)&&(r=n,n=void 0),r||(r={});let s=Dt.render(e,n,r),o=r.type||"image/png",a=r.rendererOpts||{};return s.toDataURL(o,a.quality)}});var Ks=f(ze=>{"use strict";var Zl=jt(),Pn=cn(),$s=Ws(),Xl=Sn();function On(t,e,n,i,r){let s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!Zl())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(r=n,n=e,e=i=void 0):o===3&&(e.getContext&&typeof r>"u"?(r=i,i=void 0):(r=i,i=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=i=void 0):o===2&&!e.getContext&&(i=n,n=e,e=void 0),new Promise(function(l,u){try{let c=Pn.create(n,i);l(t(c,e,i))}catch(c){u(c)}})}try{let l=Pn.create(n,i);r(null,t(l,e,i))}catch(l){r(l)}}ze.create=Pn.create;ze.toCanvas=On.bind(null,$s.render);ze.toDataURL=On.bind(null,$s.renderToDataURL);ze.toString=On.bind(null,function(t,e,n){return Xl.render(t,n)})});var Xs=f(X=>{"use strict";var Qs=jt(),Rn=cn(),eu=Rs(),Js=Bs(),tu=Hs(),Zs=Ys();function Ye(t,e,n){if(typeof t>"u")throw new Error("String required as first argument");if(typeof n>"u"&&(n=e,e={}),typeof n!="function")if(Qs())e=n||{},n=null;else throw new Error("Callback required as last argument");return{opts:e,cb:n}}function nu(t){return t.slice((t.lastIndexOf(".")-1>>>0)+2).toLowerCase()}function Mt(t){switch(t){case"svg":return Zs;case"txt":case"utf8":return Js;case"png":case"image/png":default:return eu}}function iu(t){switch(t){case"svg":return Zs;case"terminal":return tu;case"utf8":default:return Js}}function We(t,e,n){if(!n.cb)return new Promise(function(i,r){try{let s=Rn.create(e,n.opts);return t(s,n.opts,function(o,a){return o?r(o):i(a)})}catch(s){r(s)}});try{let i=Rn.create(e,n.opts);return t(i,n.opts,n.cb)}catch(i){n.cb(i)}}X.create=Rn.create;X.toCanvas=Ks().toCanvas;X.toString=function(e,n,i){let r=Ye(e,n,i),s=r.opts?r.opts.type:void 0,o=iu(s);return We(o.render,e,r)};X.toDataURL=function(e,n,i){let r=Ye(e,n,i),s=Mt(r.opts.type);return We(s.renderToDataURL,e,r)};X.toBuffer=function(e,n,i){let r=Ye(e,n,i),s=Mt(r.opts.type);return We(s.renderToBuffer,e,r)};X.toFile=function(e,n,i,r){if(typeof e!="string"||!(typeof n=="string"||typeof n=="object"))throw new Error("Invalid argument");if(arguments.length<3&&!Qs())throw new Error("Too few arguments provided");let s=Ye(n,i,r),o=s.opts.type||nu(e),l=Mt(o).renderToFile.bind(null,e);return We(l,n,s)};X.toFileStream=function(e,n,i){if(arguments.length<2)throw new Error("Too few arguments provided");let r=Ye(n,i,e.emit.bind(e,"error")),o=Mt("png").renderToFileStream.bind(null,e);We(o,n,r)}});var to=f((jc,eo)=>{"use strict";eo.exports=Xs()});var Di=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(w(Ve),w(Rt))},e.\u0275dir=G({type:e});let t=e;return t})(),co=(()=>{let e=class e extends Di{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=qn(e)))(s||e)}})(),e.\u0275dir=G({type:e,features:[ee]});let t=e;return t})(),Mi=new ue("");var ho={provide:Mi,useExisting:$e(()=>ct),multi:!0};function fo(){let t=xt()?xt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var po=new ue(""),ct=(()=>{let e=class e extends Di{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!fo())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(w(Ve),w(Rt),w(po,8))},e.\u0275dir=G({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Te("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[tt([ho]),ee]});let t=e;return t})();var Ii=new ue(""),Vi=new ue("");function Ti(t){return t!=null}function Si(t){return si(t)?Nn(t):t}function Fi(t){let e={};return t.forEach(n=>{e=n!=null?P(P({},e),n):e}),Object.keys(e).length===0?null:e}function Pi(t,e){return e.map(n=>n(t))}function go(t){return!t.validate}function Oi(t){return t.map(e=>go(e)?e:n=>e.validate(n))}function mo(t){if(!t)return null;let e=t.filter(Ti);return e.length==0?null:function(n){return Fi(Pi(n,e))}}function Lt(t){return t!=null?mo(Oi(t)):null}function yo(t){if(!t)return null;let e=t.filter(Ti);return e.length==0?null:function(n){let i=Pi(n,e).map(Si);return kn(i).pipe(Ln(Fi))}}function kt(t){return t!=null?yo(Oi(t)):null}function _i(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _o(t){return t._rawValidators}function Co(t){return t._rawAsyncValidators}function Nt(t){return t?Array.isArray(t)?t:[t]:[]}function rt(t,e){return Array.isArray(t)?t.includes(e):t===e}function Ci(t,e){let n=Nt(e);return Nt(t).forEach(r=>{rt(n,r)||n.push(r)}),n}function vi(t,e){return Nt(e).filter(n=>!rt(t,n))}var st=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Lt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},fe=class extends st{get formDirective(){return null}get path(){return null}},Be=class extends st{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ot=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},vo={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Vu=N(P({},vo),{"[class.ng-submitted]":"isSubmitted"}),Ri=(()=>{let e=class e extends ot{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(w(Be,2))},e.\u0275dir=G({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Bt("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[ee]});let t=e;return t})(),Bi=(()=>{let e=class e extends ot{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(w(fe,10))},e.\u0275dir=G({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Bt("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[ee]});let t=e;return t})();var Se="VALID",it="INVALID",he="PENDING",Fe="DISABLED",pe=class{},at=class extends pe{constructor(e,n){super(),this.value=e,this.source=n}},Oe=class extends pe{constructor(e,n){super(),this.pristine=e,this.source=n}},Re=class extends pe{constructor(e,n){super(),this.touched=e,this.source=n}},de=class extends pe{constructor(e,n){super(),this.status=e,this.source=n}};function xi(t){return(ht(t)?t.validators:t)||null}function wo(t){return Array.isArray(t)?Lt(t):t||null}function Ni(t,e){return(ht(e)?e.asyncValidators:t)||null}function bo(t){return Array.isArray(t)?kt(t):t||null}function ht(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Eo(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new le(1e3,"");if(!i[n])throw new le(1001,"")}function Ao(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new le(1002,"")})}var lt=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new xn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Se}get invalid(){return this.status===it}get pending(){return this.status==he}get disabled(){return this.status===Fe}get enabled(){return this.status!==Fe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ci(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ci(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vi(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vi(e,this._rawAsyncValidators))}hasValidator(e){return rt(this._rawValidators,e)}hasAsyncValidator(e){return rt(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(N(P({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Re(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new Re(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(N(P({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Oe(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new Oe(!0,i))}markAsPending(e={}){this.status=he;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new de(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(N(P({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fe,this.errors=null,this._forEachChild(r=>{r.disable(N(P({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new at(this.value,i)),this._events.next(new de(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(N(P({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Se,this._forEachChild(i=>{i.enable(N(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(N(P({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Se||this.status===he)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new at(this.value,n)),this._events.next(new de(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(N(P({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fe:Se}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=he,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=Si(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new de(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new H,this.statusChanges=new H}_calculateStatus(){return this._allControlsDisabled()?Fe:this.errors?it:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(he)?he:this._anyControlsHaveStatus(it)?it:Se}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Oe(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Re(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ht(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=wo(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=bo(this._rawAsyncValidators)}},ut=class extends lt{constructor(e,n,i){super(xi(n),Ni(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Ao(this,!0,e),Object.keys(e).forEach(i=>{Eo(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ut=new ue("CallSetDisabledState",{providedIn:"root",factory:()=>qt}),qt="always";function Do(t,e){return[...e.path,t]}function Li(t,e,n=qt){ki(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Io(t,e),To(t,e),Vo(t,e),Mo(t,e)}function wi(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Mo(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ki(t,e){let n=_o(t);e.validator!==null?t.setValidators(_i(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Co(t);e.asyncValidator!==null?t.setAsyncValidators(_i(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();wi(e._rawValidators,r),wi(e._rawAsyncValidators,r)}function Io(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Ui(t,e)})}function Vo(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Ui(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Ui(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function To(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function So(t,e){t==null,ki(t,e)}function Fo(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Po(t){return Object.getPrototypeOf(t.constructor)===co}function Oo(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Ro(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===ct?n=s:Po(s)?i=s:r=s}),r||i||n||null}var Bo={provide:fe,useExisting:$e(()=>Gt)},Pe=Promise.resolve(),Gt=(()=>{let e=class e extends fe{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new H,this.form=new ut({},Lt(i),kt(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Pe.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),Li(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Pe.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Pe.then(()=>{let r=this._findContainer(i.path),s=new ut({});So(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Pe.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){Pe.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,Oo(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(w(Ii,10),w(Vi,10),w(Ut,8))},e.\u0275dir=G({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&Te("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tt([Bo]),ee]});let t=e;return t})();function bi(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ei(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var xo=class extends lt{constructor(e=null,n,i){super(xi(n),Ni(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ht(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Ei(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bi(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bi(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Ei(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var No={provide:Be,useExisting:$e(()=>Ht)},Ai=Promise.resolve(),Ht=(()=>{let e=class e extends Be{constructor(i,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new xo,this._registered=!1,this.name="",this.update=new H,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=Ro(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Fo(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Li(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){Ai.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&li(r);Ai.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Do(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(w(fe,9),w(Ii,10),w(Vi,10),w(Mi,10),w(ai,8),w(Ut,8))},e.\u0275dir=G({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[tt([No]),ee,Ke]});let t=e;return t})(),qi=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=G({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Lo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ie({type:e}),e.\u0275inj=Me({});let t=e;return t})();var dt=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ut,useValue:i.callSetDisabledState??qt}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ie({type:e}),e.\u0275inj=Me({imports:[Lo]});let t=e;return t})();function Uo(t,e){t&1&&(T(0,"p"),z(1,"Enter a link to generate QR code"),S())}function qo(t,e){if(t&1&&B(0,"img",5),t&2){let n=Zn();Xn("src",n.qrCodeData,Hn)}}var Gi=(()=>{let e=class e{constructor(){this.dataChange=new H,this.qrCodeData="",this.link="https://www.hxwilliam.org"}generateQRCode(){this.data=this.link,this.dataChange.emit(this.link),console.log("Generating QR code...")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=L({type:e,selectors:[["app-input"]],inputs:{data:"data"},outputs:{dataChange:"dataChange"},standalone:!0,features:[Y],decls:10,vars:3,consts:[["noLink",""],[3,"submit"],["type","text","name","link","placeholder","Paste link here",2,"width","50%","height","30px",3,"ngModelChange","ngModel"],["type","submit",2,"width","20%","height","36px"],[4,"ngIf","ngIfElse"],[3,"src"]],template:function(r,s){if(r&1){let o=Jn();T(0,"section")(1,"form",1),Te("submit",function(){return Pt(o),Ot(s.generateQRCode())}),T(2,"input",2),et("ngModelChange",function(l){return Pt(o),Xe(s.link,l)||(s.link=l),Ot(l)}),S(),T(3,"button",3),z(4,"Enter"),S()(),B(5,"br"),T(6,"div"),Kn(7,Uo,2,0,"p",4)(8,qo,1,1,"ng-template",null,0,ri),S()()}if(r&2){let o=ii(9);ce(2),Ze("ngModel",s.link),ce(5),Je("ngIf",s.qrCodeData)("ngIfElse",o)}},dependencies:[dt,qi,ct,Ri,Bi,Ht,Gt,nt,hi],styles:["section[_ngcontent-%COMP%]{margin-top:4%;color:#000}form[_ngcontent-%COMP%]{border-radius:15%}"]});let t=e;return t})();var Hi=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=L({type:e,selectors:[["app-header"]],standalone:!0,features:[Y],decls:8,vars:0,consts:[["rel","preconnect","href",Qe`https://fonts.googleapis.com`],["rel","preconnect","href",Qe`https://fonts.gstatic.com`,"crossorigin",""],["href",Qe`https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Protest+Revolution&display=swap`,"rel","stylesheet"]],template:function(r,s){r&1&&(B(0,"link",0)(1,"link",1)(2,"link",2),T(3,"header")(4,"h1"),z(5," QrCode Generator "),S(),T(6,"h4"),z(7," Turn your links into QR Codes in a second "),S()())},styles:["header[_ngcontent-%COMP%]{background-color:#2c7577;color:#fff;display:grid;justify-content:center;font-family:Protest Revolution,sans-serif;font-weight:400;font-style:normal;border-radius:3%}"]});let t=e;return t})();var ji=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=L({type:e,selectors:[["app-footer"]],standalone:!0,features:[Y],decls:2,vars:0,template:function(r,s){r&1&&(T(0,"footer"),z(1,` copyright of hxwilliam.org 2024
`),S())},styles:["footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;background-color:#333;color:#fff;text-align:center;padding:10px 0;border-top:2px solid #e7e7e7}"]});let t=e;return t})();var Ae=uo(to(),1);var ru=["qrcElement"],no=(()=>{let e=class e{constructor(i,r){this.renderer=i,this.sanitizer=r,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new H,this.context=null}ngOnChanges(){return Tt(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(i){return this.allowEmptyString===!1?!(typeof i>"u"||i===""||i==="null"||i===null):!(typeof i>"u")}toDataURL(i){return new Promise((r,s)=>{(0,Ae.toDataURL)(this.qrdata,i,(o,a)=>{o?s(o):r(a)})})}toCanvas(i,r){return new Promise((s,o)=>{(0,Ae.toCanvas)(i,this.qrdata,r,a=>{a?o(a):s("success")})})}toSVG(i){return new Promise((r,s)=>{(0,Ae.toString)(this.qrdata,i,(o,a)=>{o?s(o):r(a)})})}renderElement(i){for(let r of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,r);this.renderer.appendChild(this.qrcElement.nativeElement,i)}createQRCode(){return Tt(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let i={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},r=this.imageSrc,s=this.imageHeight||40,o=this.imageWidth||40;switch(this.elementType){case"canvas":{let a=this.renderer.createElement("canvas");this.context=a.getContext("2d"),this.toCanvas(a,i).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(a,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(a,"title",`${this.title}`),r&&this.context){this.centerImage=new Image(o,s),r!==this.centerImage.src&&(this.centerImage.src=r),s!==this.centerImage.height&&(this.centerImage.height=s),o!==this.centerImage.width&&(this.centerImage.width=o);let l=this.centerImage;l&&(l.onload=()=>{this.context?.drawImage(l,a.width/2-o/2,a.height/2-s/2,o,s)})}this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] canvas error:",l)});break}case"svg":{let a=this.renderer.createElement("div");this.toSVG(i).then(l=>{this.renderer.setProperty(a,"innerHTML",l);let u=a.firstChild;this.renderer.setAttribute(u,"height",`${this.width}`),this.renderer.setAttribute(u,"width",`${this.width}`),this.renderElement(u),this.emitQRCodeURL(u)}).catch(l=>{console.error("[angularx-qrcode] svg error:",l)});break}case"url":case"img":default:{let a=this.renderer.createElement("img");this.toDataURL(i).then(l=>{this.alt&&a.setAttribute("alt",this.alt),this.ariaLabel&&a.setAttribute("aria-label",this.ariaLabel),a.setAttribute("src",l),this.title&&a.setAttribute("title",this.title),this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] img/url error:",l)})}}}catch(i){console.error("[angularx-qrcode] Error generating QR Code:",i.message)}})}emitQRCodeURL(i){let r=i.constructor.name;if(r===SVGSVGElement.name){let o=i.outerHTML,a=new Blob([o],{type:"image/svg+xml"}),l=URL.createObjectURL(a),u=this.sanitizer.bypassSecurityTrustUrl(l);this.qrCodeURL.emit(u);return}let s="";r===HTMLCanvasElement.name&&(s=i.toDataURL("image/png")),r===HTMLImageElement.name&&(s=i.src),fetch(s).then(o=>o.blob()).then(o=>URL.createObjectURL(o)).then(o=>this.sanitizer.bypassSecurityTrustUrl(o)).then(o=>{this.qrCodeURL.emit(o)}).catch(o=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+o)})}};e.\u0275fac=function(r){return new(r||e)(w(Ve),w(pi))},e.\u0275cmp=L({type:e,selectors:[["qrcode"]],viewQuery:function(r,s){if(r&1&&ei(ru,7),r&2){let o;ti(o=ni())&&(s.qrcElement=o.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[Ke],decls:2,vars:2,consts:[["qrcElement",""]],template:function(r,s){r&1&&B(0,"div",null,0),r&2&&Qn(s.cssClass)},encapsulation:2,changeDetection:0});let t=e;return t})(),io=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ie({type:e}),e.\u0275inj=Me({});let t=e;return t})();var ro=(()=>{let e=class e{constructor(){this.userInputLink="",this.title="hx-qrCodes"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=L({type:e,selectors:[["app-root"]],standalone:!0,features:[Y],decls:5,vars:11,consts:[[3,"dataChange","data"],[1,"qrcodeImage"],[3,"qrdata","allowEmptyString","cssClass","colorDark","colorLight","elementType","errorCorrectionLevel","scale","title","width"]],template:function(r,s){r&1&&(B(0,"app-header"),T(1,"app-input",0),et("dataChange",function(a){return Xe(s.userInputLink,a)||(s.userInputLink=a),a}),S(),T(2,"div",1),B(3,"qrcode",2),S(),B(4,"app-footer")),r&2&&(ce(),Ze("data",s.userInputLink),ce(2),Je("qrdata",s.userInputLink)("allowEmptyString",!0)("cssClass","center")("colorDark","#2c7577")("colorLight","#ffffff")("elementType","svg")("errorCorrectionLevel","H")("scale",1)("title","save qrcodeImage")("width",400))},dependencies:[Gi,Hi,ji,io,no,nt,dt]});let t=e;return t})();var so=[];var ou="@",au=(()=>{let e=class e{constructor(i,r,s,o,a){this.doc=i,this.delegate=r,this.zone=s,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=Ft(zn,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-IAWEJDUJ.mjs").then(r=>r)).catch(r=>{throw new le(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(i,r){let s=this.delegate.createRenderer(i,r);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new Bn(s);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(i,r);o.use(l),this.scheduler?.notify(9)}).catch(a=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){jn()},e.\u0275prov=St({token:e,factory:e.\u0275fac});let t=e;return t})(),Bn=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,i,r){this.delegate.insertBefore(e,n,i,r)}removeChild(e,n,i){this.delegate.removeChild(e,n,i)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(e,n,i)),this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(e,n,i)),this.delegate.listen(e,n,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(ou)}};function oo(t="animations"){return Wn("NgAsyncAnimations"),Un([{provide:Yn,useFactory:(e,n,i)=>new au(e,n,i,t),deps:[ci,di,$n]},{provide:Gn,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ao={providers:[oi({eventCoalescing:!0}),yi(so),gi(),oo()]};var lu={providers:[mi()]},lo=ui(ao,lu);var uu=()=>fi(ro,lo),Mh=uu;export{Mh as a};
